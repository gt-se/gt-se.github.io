!function(){"use strict";function t(){let s=this,a="grey";return s.init=function(){s.handleUpsalesIframeMessage();let t=document.querySelector("#up-form"),e=t.querySelector(".submit-button"),o=(t.closest(".template-scoped-style")?.removeAttribute("style"),setTimeout(function(){t.classList.add("form-theme--"+a)},500),t.querySelectorAll(".form-control")),l=t.querySelectorAll(".form-group");o&&o.forEach(function(e){var t=e.closest(".form-group");t&&s.addFloatingLabelBehavior(e,t)}),l&&l.forEach(function(e){s.addChoiceClass(e)}),e&&e.querySelector("button")?.removeAttribute("style"),setTimeout(function(){const e=t.querySelector(".iti__flag-container");e&&e.closest(".form-group")?.classList.add("form-group--flag-container")},500)},s.handleUpsalesIframeMessage=function(){window.addEventListener("message",e=>{e.data&&void 0!==e.data.formTheme&&(a=e.data.formTheme)})},s.addFloatingLabelBehavior=function(e,t){t.classList.add("floating-label"),s.addLabelTitle(e,t),setTimeout(function(){s.filledClassHandle(e,t)},1e3),e.addEventListener("focusin",function(e){t.classList.add("focus")}),e.addEventListener("focusout",function(e){t.classList.remove("focus")}),e.addEventListener("change",function(e){s.filledClassHandle(e.target,t)})},s.filledClassHandle=function(e,t){e.value&&0<e.value.length?t.classList.add("filled"):t.classList.remove("filled")},s.addLabelTitle=function(e,t){let o=t.querySelector("label");t=o?.textContent.trim();t&&0<t.length&&(o.setAttribute("title",t),e.setAttribute("title",t))},s.addChoiceClass=function(o){if(o.classList.contains("form-group")){var e=(e,t)=>{0!==e.length&&(o.classList.add("form-group--choice"),o.classList.add(t),"checkbox"===t&&e.forEach(e=>{o?.querySelector(".opt-in-label")&&(e.removeAttribute("style"),o.classList.add("checkbox--opt-in"))}),1<e.length&&o.classList.add("multiple"),e.forEach(e=>{const t=e.closest("label");if(t){t.classList.add("choice-wrapper"),t.removeAttribute("style");const o=document.createElement("span");o.classList.add("choice-icon"),t.appendChild(o)}}))},t=o.querySelectorAll('input[type="radio"]'),l=o.querySelectorAll('input[type="checkbox"]');const s=o.querySelectorAll("select");e(t,"radio"),e(l,"checkbox"),s.forEach(e=>{e.closest(".form-group")?.classList.add("form-group--select")})}},s}function e(){let e=new t;e.init()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.UpsaleFormFloatingLabel=t}();